# ðŸ“‹ OCR Upload â†’ Database Test - QUICK START

## ðŸŽ¯ Test Goal
Upload áº£nh â†’ OCR xá»­ lÃ½ â†’ **LÆ°u vÃ o database** â†’ Láº¥y dá»¯ liá»‡u

## âš¡ 30-Second Setup

### Terminal 1: Backend
```powershell
cd f:\DoAnCN\backend && uvicorn main:app --host localhost --port 8000
```

### Terminal 2: OCR Worker
```powershell
cd f:\DoAnCN\backend && python worker.py
```

### Terminal 3: Run Test
```powershell
cd f:\DoAnCN && python test_ocr_upload_to_db.py
```

## ðŸ“Š What Gets Checked

1. **Upload**: Image â†’ Server (âœ… <100ms response)
2. **Job Queue**: Job created in database (âœ… queued)
3. **OCR Processing**: Tesseract runs (âœ… status: processing)
4. **Database Save**: Invoice saved (âœ… status: done)
5. **Verify**: Count invoices before/after (âœ… +1)
6. **Query**: Groq can access invoice (âœ… groq responds)

## âœ… Success Criteria

```
âœ… Job created â†’ queued
âœ… Worker processes â†’ processing
âœ… OCR completes â†’ done
âœ… Invoice ID returned
âœ… Invoice count increases
âœ… New invoice in DB
âœ… Groq responds about invoice
```

## âŒ If Test Fails

### "Status: queued" (stuck)
â†’ Worker not running
â†’ Start: `cd f:\DoAnCN\backend && python worker.py`

### "OCR Failed: Tesseract not found"
â†’ Install Tesseract from: https://github.com/UB-Mannheim/tesseract/wiki

### "Cannot connect to backend"
â†’ Start backend: `cd f:\DoAnCN\backend && uvicorn main:app --host localhost --port 8000`

### "Invoice not found in DB"
â†’ Check database: `psql -U postgres -d ocr_database_new -c "SELECT COUNT(*) FROM invoices"`

## ðŸ“„ Full Documentation

See: `OCR_UPLOAD_TO_DB_TEST_GUIDE.md`

---

âœ… **Ready to test!**
