version: "3.1"

stories:
  - story: greet and ask for help
    steps:
      - intent: greet
      - action: utter_greet
      - intent: ask_invoice_help
      - action: utter_invoice_help

  - story: template creation flow
    steps:
      - intent: greet
      - action: utter_greet
      - intent: create_invoice_template
      - action: utter_template_help
      - action: action_create_template

  - story: OCR processing flow
    steps:
      - intent: greet
      - action: utter_greet
      - intent: extract_invoice_data
      - action: utter_ocr_help
      - action: action_process_ocr

  - story: search invoice flow
    steps:
      - intent: search_invoice
      - action: utter_search_help
      - action: action_search_invoice

  - story: upload and process flow
    steps:
      - intent: upload_invoice
      - action: action_handle_upload
      - intent: extract_invoice_data
      - action: action_process_ocr

  - story: help with invoice format
    steps:
      - intent: ask_invoice_format
      - action: utter_template_help

  - story: help with OCR
    steps:
      - intent: request_ocr_help
      - action: utter_ocr_help

  - story: ask about template types
    steps:
      - intent: ask_template_types
      - action: action_list_templates

  - story: happy path
    steps:
      - intent: greet
      - action: utter_greet
      - intent: mood_great
      - action: utter_happy

  - story: sad path
    steps:
      - intent: greet
      - action: utter_greet
      - intent: mood_unhappy
      - action: utter_cheer_up
      - action: utter_did_that_help

  - story: goodbye
    steps:
      - intent: goodbye
      - action: utter_goodbye

  - story: bot challenge
    steps:
      - intent: bot_challenge
      - action: utter_iamabot

  - story: complete invoice workflow
    steps:
      - intent: greet
      - action: utter_greet
      - intent: create_invoice_template
      - action: utter_template_help
      - action: action_create_template
      - intent: upload_invoice
      - action: action_handle_upload
      - intent: extract_invoice_data
      - action: action_process_ocr
      - intent: affirm
      - action: utter_happy
      - intent: goodbye
      - action: utter_goodbye
